
{% extends 'app/yudingindex.html' %}
{% load static %}
{% block title %}
    用户注册
{% endblock %}
{% block headone %}
{% endblock %}
{% block contents %}

<!--REG START-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="{% static 'css/restyle.css' %}">
</head>
<body>
<div id="wp" class="wp">
	<div id="ct" class="ptm wp cl">
		<div class="mn">
			<div class="bm" id="main_message">
				<div class="bm_h bbs" id="main_hnav">
					<h3 id="layer_reginfo_t" class="xs2">立即注册</h3>
				</div>
				<p id="returnmessage4"></p>
				<form method="post" autocomplete="off" name="register" id="registerform" action="">
					{% csrf_token %}
                    <div id="layer_reg" class="bm_c">
						<div class="mtw">
							<div id="reginfo_a">
								<div class="rfm">
									<table>
										<tr>
											<th><span class="rq">*</span><label for="5sMVeV">用户名:</label></th>
											<td><input type="text" id="5sMVeV" onblur="checkRegOut('5sMVeV','请输入用户名');" onfocus="checkReg('5sMVeV')" name="username" class="px" autocomplete="off" size="25" maxlength="15"/></td>
											<td class="tipcol">{{ form.username.errors }}</td>
										</tr>
									</table>
								</div>
								<div class="rfm">
									<table>
										<tr>
											<th><span class="rq">*</span><label for="WXETc3">密码:</label></th>
											<td><input type="password" id="WXETc3" onblur="checkRegOut('WXETc3','请输入密码');" onfocus="checkReg('WXETc3')" name="password" size="25" class="px" /></td>
											<td class="tipcol">{{ form.password.errors }}</td>
										</tr>
									</table>
								</div>
								<div class="rfm">
									<table>
										<tr>
											<th><span class="rq">*</span><label for="LzI33d">确认密码:</label></th>
											<td><input type="password" id="LzI33d" onblur="checkRegOut('LzI33d','请确认密码');" onfocus="checkReg('LzI33d')" name="repassword" size="25" class="px" /></td>
											<td class="tipcol">{% for err in form.password.errors %}{{ err }},{% endfor %}</td>
										</tr>
									</table>
								</div>
								<div class="rfm">
									<table>
										<tr>
											<th><span class="rq">*</span><label for="FQ817D">Email:</label></th>
											<td><input type="text" id="FQ817D" name="email"  onblur="checkRegOut('FQ817D','请输入正确的邮箱地址');" onfocus="checkReg('FQ817D')" size="25" class="px" /><br /><em id="emailmore">&nbsp;</em></td>
											<td class="tipcol">{{ form.email.errors }}</td>
										</tr>
									</table>
								</div>
								<div class="rfm">
									<table>
										<tr>
											<th><span class="rq">*</span><label for="yzm">验证码:</label></th>
											<td><input style="width:50px;" maxlength="4" type="text" id="yzm" name="yzm" onfocus="checkReg('yzm')" size="25" class="px" /><br /><em id="emailmore">&nbsp;</em></td>
											<td class="tipcol"><i id="tip_yzm" class="p_tip"><img src="{% url 'app:yzm' %}" id="p_yzm" onclick="show('p_yzm')" style="cursor:pointer;width: 56px;height: 25px" /> <a href="javascript:;" onclick="show('p_yzm')">看不清？</a></i>&nbsp;&nbsp;{{ form.yzm.errors }}</td>
										</tr>
									</table>
								</div>
							</div>
						</div>
					</div>
					<div id="layer_reginfo_b">
						<div class="rfm mbw bw0">
							<table width="100%">
								<tr>
									<th>&nbsp;</th>
									<td>
									<span id="reginfo_a_btn">
									<em>&nbsp;</em>
									<button class="pn pnc" id="registerformsubmit" type="submit" name="regsubmit" value="true">
										<strong>提交</strong>
									</button>
									</span>
									</td>
									<td></td>
								</tr>
							</table>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>

</body>
<!--REG END-->
{% endblock %}

{% block scripttwo %}

    <script>
function checkReg(obj){
	document.getElementById('tip_'+obj).style.display='block';
}

function checkRegOut(obj,test){
	if(document.getElementById(obj).value==''){
		document.getElementById('tip_'+obj).innerHTML='<b style="color:red;">'+test+'</b>';
	}else{
		document.getElementById('tip_'+obj).style.display='none';
	}
}

function show(obj){
	document.getElementById(obj).src='{% url "app:yzm" %}?math='+Math.random();
}
</script>
{% endblock %}



